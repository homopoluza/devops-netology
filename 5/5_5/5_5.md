# Задача 1

## В чём отличие режимов работы сервисов в Docker Swarm кластере: replication и global?

Для реплицированного сервиса мы указываем количество идентичных задач. Например, чтобы развернуть сервис HTTP с тремя репликами, каждая из которых обслуживает один и тот же контент.

Глобальный сервис — это сервис, который запускает одну задачу на каждой ноде. Предварительно заданного количества задач нет. Каждый раз, когда мы добавляем ноду в swarm, оркестратор создает задачу, а планировщик назначает задачу новой ноде. По официальной документации, хорошими кандидатами на роль глобальных сервисов являются агенты мониторинга, антивирусные сканеры или другие типы контейнеров, которые мы хотим запустить на каждой ноде в swarm. 

## Какой алгоритм выбора лидера используется в Docker Swarm кластере?

Используется алгоритм Raft.

Если обычный узел долго не получает сообщений от лидера, то он переходит в состояние «кандидат» и посылает другим узлам запрос на голосование. Другие узлы голосуют за того кандидата, от которого они получили первый запрос. Если кандидат получает сообщение от лидера, то он снимает свою кандидатуру и возвращается в обычное состояние. Если кандидат получает большинство голосов, то он становится лидером. Если же он не получил большинства (это случай, когда на кластере возникли сразу несколько кандидатов и голоса разделились), то кандидат ждёт случайное время и инициирует новую процедуру голосования.

Процедура голосования повторяется, пока не будет выбран лидер.

## Что такое Overlay Network?

Это распределенная подсеть среди мноржества докер хостов, позволяющая контейнерам коммуницировать защищенно, если включено шифрование. Докер самостоятельно занимается маршрутизацией каждого пакета к подходящему докер хосту и контейнеру, и обратно.

# Задача 2

Создать ваш первый Docker Swarm кластер в Яндекс.Облаке

Для получения зачета, вам необходимо предоставить скриншот из терминала (консоли), с выводом команды:

![alt text](https://github.com/homopoluza/devops-netology/blob/main/5/5_5/5_5_1.png)

# Задача 3

Создать ваш первый, готовый к боевой эксплуатации кластер мониторинга, состоящий из стека микросервисов.

Для получения зачета, вам необходимо предоставить скриншот из терминала (консоли), с выводом команды:

![alt text](https://github.com/homopoluza/devops-netology/blob/main/5/5_5/5_5_2.png)
